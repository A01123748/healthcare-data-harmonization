# Google HCLS Whistle Data Transformation Language

## Summary

This is an syntax that designed to express mappings of data of one structure to
another.

This syntax is transpiled into a configuration file for the
[Data Harmonization Mapping Engine](http://github.com/GoogleCloudPlatform/healthcare-data-harmonization/blob/master/mapping_engine)
which can then execute the mappings.

The engine accepts data in JSON format and outputs it in JSON format.
For information on the syntax, look at the included documents in the docs
folder.

## Building and Testing

### TL;DR

Run `build.sh`

### Details

This project is a go module. It can be built and tested with `go build` and
`go test`.

There is an additional go module in the test directory, which runs some
integration tests with mapping engine.

The `whistle_*.go` files in the parser directory are generated by [ANTLR](https://www.antlr.org/).
If you modify the grammar (`Whistle.g4`) file make sure to re-run
`generate_grammar.sh` or `build.sh`.

If you wish to modify the language and engine simultaneously in a local
filesystem, you may run `go_mod_edits.sh` to add the appropriate `replace`
clauses to the `go.mod` files, redirecting dependencies from github to your
local filesystem. Be aware that the script assumes the engine is in a directory
called mapping_engine under the same parent as mapping_language (the directory
this README is in).

## License

Apache License, Version 2.0
